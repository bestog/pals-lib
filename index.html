<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Pals by bestog</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Pals</h1>
      <h2 class="project-tagline">Privacy Aware Location Service Library for Android</h2>
      <a href="https://github.com/bestog/pals-lib" class="btn">View on GitHub</a>
      <a href="https://github.com/bestog/pals-lib/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/bestog/pals-lib/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="privacy-aware-location-service-library" class="anchor" href="#privacy-aware-location-service-library" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Privacy Aware Location Service Library</h1>

<p><a href="https://bintray.com/bestog/pals/pals/_latestVersion"><img src="https://api.bintray.com/packages/bestog/pals/pals/images/download.svg" alt="Download"></a>
<a href="https://github.com/bestog/pals-lib/tree/master"><img src="https://img.shields.io/badge/API-11%2B-green.svg" alt="API"></a>
<a href="https://travis-ci.org/bestog/pals-lib"><img src="https://travis-ci.org/bestog/pals-lib.svg?branch=master" alt="Build Status"></a></p>

<p><strong>Privacy Aware Location Service Library for Android -- MLS, OpenCellID, OpenBMap and OpenWLANMap</strong></p>

<p>The GPS localization is realized in Android through a Google service. Google can thereby save user profiles and track the movements of the user. This library prevents the localization on Google interface and uses only free-usable anonymous location-services.
Data on the surrounding wireless networks and cell towers are sent to the location-service. As a result, you get the calculated approximate GPS location of the user.</p>

<p><em>Be clever and keep your private data anonymous!</em></p>

<p><strong>Pull-Requests are allowed and encouraged!</strong></p>

<h2>
<a id="getting-started" class="anchor" href="#getting-started" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Getting Started</h2>

<p><strong>Maven</strong></p>

<div class="highlight highlight-text-xml"><pre>&lt;<span class="pl-ent">dependency</span>&gt;
  &lt;<span class="pl-ent">groupId</span>&gt;com.bestog.pals&lt;/<span class="pl-ent">groupId</span>&gt;
  &lt;<span class="pl-ent">artifactId</span>&gt;pals&lt;/<span class="pl-ent">artifactId</span>&gt;
  &lt;<span class="pl-ent">version</span>&gt;2.2&lt;/<span class="pl-ent">version</span>&gt;
  &lt;<span class="pl-ent">type</span>&gt;pom&lt;/<span class="pl-ent">type</span>&gt;
&lt;/<span class="pl-ent">dependency</span>&gt;</pre></div>

<p><strong>Gradle</strong></p>

<div class="highlight highlight-source-java"><pre>compile <span class="pl-s"><span class="pl-pds">'</span>com.bestog.pals:pals:2.2<span class="pl-pds">'</span></span></pre></div>

<h2>
<a id="usage" class="anchor" href="#usage" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Usage</h2>

<p><strong>AndroidManifest.xml</strong></p>

<div class="highlight highlight-text-xml"><pre>&lt;<span class="pl-ent">uses-permission</span> <span class="pl-e">android</span><span class="pl-e">:</span><span class="pl-e">name</span>=<span class="pl-s"><span class="pl-pds">"</span>android.permission.INTERNET<span class="pl-pds">"</span></span>/&gt;
&lt;<span class="pl-ent">uses-permission</span> <span class="pl-e">android</span><span class="pl-e">:</span><span class="pl-e">name</span>=<span class="pl-s"><span class="pl-pds">"</span>android.permission.ACCESS_WIFI_STATE<span class="pl-pds">"</span></span>/&gt;
&lt;<span class="pl-ent">uses-permission</span> <span class="pl-e">android</span><span class="pl-e">:</span><span class="pl-e">name</span>=<span class="pl-s"><span class="pl-pds">"</span>android.permission.ACCESS_COARSE_LOCATION<span class="pl-pds">"</span></span>/&gt;
// Only for submit-request
&lt;<span class="pl-ent">uses-permission</span> <span class="pl-e">android</span><span class="pl-e">:</span><span class="pl-e">name</span>=<span class="pl-s"><span class="pl-pds">"</span>android.permission.ACCESS_FINE_LOCATION<span class="pl-pds">"</span></span>/&gt;</pre></div>

<p><strong>Basics</strong></p>

<div class="highlight highlight-source-java"><pre><span class="pl-c">// Initialize Pals</span>
<span class="pl-smi">Pals</span> pals <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-smi">Pals</span>(context);

<span class="pl-c">// Enable Provider</span>
<span class="pl-c">// - Location-Provider with your own access-token</span>
pals<span class="pl-k">.</span>enableProvider(<span class="pl-smi">LocationProvider</span><span class="pl-c1"><span class="pl-k">.</span>PROVIDER_MOZILLA</span>, <span class="pl-s"><span class="pl-pds">"</span>[YOUR ACCESS-TOKEN]<span class="pl-pds">"</span></span>);
<span class="pl-c">// - Location-Provider with a fallback access-token</span>
pals<span class="pl-k">.</span>enableProvider(<span class="pl-smi">LocationProvider</span><span class="pl-c1"><span class="pl-k">.</span>PROVIDER_MOZILLA</span>, <span class="pl-c1">null</span>);
<span class="pl-c">// Disable Provider</span>
pals<span class="pl-k">.</span>disabledProvider(<span class="pl-smi">LocationProvider</span><span class="pl-c1"><span class="pl-k">.</span>PROVIDER_MOZILLA</span>);
<span class="pl-c1">...</span></pre></div>

<p><a href="#provider">Available Location-Provider</a></p>

<p><strong>Request</strong></p>

<p>A request that returns the current approximate position of the user as a result.</p>

<div class="highlight highlight-source-java"><pre>pals<span class="pl-k">.</span>request(<span class="pl-k">new</span> <span class="pl-smi">IRequest</span>() {
    <span class="pl-k">@Override</span>
    <span class="pl-k">public</span> <span class="pl-k">void</span> <span class="pl-en">onComplete</span>(<span class="pl-smi">GeoResult</span> <span class="pl-v">result</span>, <span class="pl-k">boolean</span> <span class="pl-v">valid</span>) {
        <span class="pl-c">// Result - Example -----------------</span>
        <span class="pl-k">double</span> lat <span class="pl-k">=</span> result<span class="pl-k">.</span>getLatitude();
        <span class="pl-k">double</span> lon <span class="pl-k">=</span> result<span class="pl-k">.</span>getLongitude();
        <span class="pl-k">int</span> acc <span class="pl-k">=</span> result<span class="pl-k">.</span>getAccuracy();
        <span class="pl-k">boolean</span> validRequest <span class="pl-k">=</span> valid;
        <span class="pl-c">// ----  YOUR CODE ------------------</span>
    }
});</pre></div>

<p><strong>Submit</strong></p>

<p>To guarantee accurate position of a user, the database of location-services with new data needs to be filled.</p>

<p>Support the location services and collect new data!</p>

<div class="highlight highlight-source-java"><pre>pals<span class="pl-k">.</span>submit(<span class="pl-k">new</span> <span class="pl-smi">ISubmit</span>() {
    <span class="pl-k">@Override</span>
    <span class="pl-k">public</span> <span class="pl-k">void</span> <span class="pl-en">onComplete</span>(<span class="pl-k">boolean</span> <span class="pl-v">valid</span>) {
        <span class="pl-c">// Result - Example -----------</span>
        <span class="pl-k">boolean</span> validSubmit <span class="pl-k">=</span> valid;
        <span class="pl-c">// ----  YOUR CODE ------------</span>
    }
});</pre></div>

<h2>
<a id="provider" class="anchor" href="#provider" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><a name="provider"></a>Provider</h2>

<table>
<thead>
<tr>
<th align="left">Location-Provider</th>
<th align="left">Constant</th>
<th align="center">Request</th>
<th align="center">Submit</th>
<th align="center">Access-Token</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">Mozilla Location</td>
<td align="left"><code>LocationProvider.PROVIDER_MOZILLA</code></td>
<td align="center"><strong>X</strong></td>
<td align="center"><strong>X</strong></td>
<td align="center"><strong>X</strong></td>
</tr>
<tr>
<td align="left">OpenCellID</td>
<td align="left"><code>LocationProvider.PROVIDER_OPENCELLID</code></td>
<td align="center"><strong>X</strong></td>
<td align="center"></td>
<td align="center"><strong>X</strong></td>
</tr>
<tr>
<td align="left">OpenBMap</td>
<td align="left"><code>LocationProvider.PROVIDER_OPENBMAP</code></td>
<td align="center"><strong>X</strong></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="left">OpenWLANMap</td>
<td align="left"><code>LocationProvider.PROVIDER_OPENMAP</code></td>
<td align="center"><strong>X</strong></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="left">Google Geolocation</td>
<td align="left"><code>LocationProvider.PROVIDER_GOOGLE</code></td>
<td align="center"><strong>X</strong></td>
<td align="center"></td>
<td align="center"><strong>X</strong></td>
</tr>
</tbody>
</table>

<h2>
<a id="functions" class="anchor" href="#functions" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Functions</h2>

<h4>
<a id="enableprovider" class="anchor" href="#enableprovider" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>enableProvider</h4>

<p>Enable a location-provider for the geolocation.</p>

<div class="highlight highlight-source-java"><pre><span class="pl-c">// with your own access-token</span>
<span class="pl-k">void</span> enableProvider(<span class="pl-smi">String</span> provider, <span class="pl-smi">String</span> token);
<span class="pl-c">// with fallback access-token</span>
<span class="pl-k">void</span> enableProvider(<span class="pl-smi">String</span> provider, <span class="pl-c1">null</span>);</pre></div>

<h4>
<a id="disableprovider" class="anchor" href="#disableprovider" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>disableProvider</h4>

<p>Disable a location-provider for the geolocation.</p>

<div class="highlight highlight-source-java"><pre><span class="pl-k">void</span> disableProvider(<span class="pl-smi">String</span> provider);</pre></div>

<h4>
<a id="getenabledproviders" class="anchor" href="#getenabledproviders" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>getEnabledProviders</h4>

<p>Get all enabled location-provider as a list with location-provider-objects</p>

<div class="highlight highlight-source-java"><pre><span class="pl-k">Map&lt;<span class="pl-smi">String</span>, <span class="pl-smi">LocationProvider</span>&gt;</span> getEnabledProviders();</pre></div>

<h4>
<a id="getenabledproviderlist" class="anchor" href="#getenabledproviderlist" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>getEnabledProviderList</h4>

<p>Get all enabled location-provider as a list</p>

<div class="highlight highlight-source-java"><pre><span class="pl-k">ArrayList&lt;<span class="pl-smi">String</span>&gt;</span> getEnabledProviderList();</pre></div>

<h4>
<a id="request" class="anchor" href="#request" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>request</h4>

<p>Executes a request and sends at the end the result to the listener.</p>

<div class="highlight highlight-source-java"><pre><span class="pl-k">void</span> request(<span class="pl-smi">IRequest</span> listener);</pre></div>

<h4>
<a id="submit" class="anchor" href="#submit" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>submit</h4>

<p>Executes a submit, collect data from current position and send to a location-provider.</p>

<div class="highlight highlight-source-java"><pre><span class="pl-k">void</span> submit(<span class="pl-smi">ISubmit</span> listener);</pre></div>

<h4>
<a id="isproviderenabled" class="anchor" href="#isproviderenabled" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>isProviderEnabled</h4>

<p>Is the specific location-provider enabled?</p>

<div class="highlight highlight-source-java"><pre><span class="pl-k">boolean</span> isProviderEnabled(<span class="pl-smi">String</span> provider);</pre></div>

<h4>
<a id="settrilateratealg" class="anchor" href="#settrilateratealg" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>setTrilaterateAlg</h4>

<p>Set a specific algorithm for the calculation</p>

<div class="highlight highlight-source-java"><pre><span class="pl-k">void</span> setTrilaterateAlg(<span class="pl-smi">String</span> alg);</pre></div>

<h2>
<a id="license" class="anchor" href="#license" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>License</h2>

<pre><code>Copyright 2016 - bestog

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
</code></pre>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/bestog/pals-lib">Pals</a> is maintained by <a href="https://github.com/bestog">bestog</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
